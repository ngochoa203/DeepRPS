:root {
  --bg: #0b1020;
  --card: #121b31;
  --text: #e0e7ff;
  --muted: #9aa6c2;
  --accent: #5b9dff;
  --win: #16a34a;
  --draw: #9ca3af;
  --lose: #ef4444;
}

html, body, #root { height: 100%; }
body { margin: 0; background: var(--bg); color: var(--text); font-family: ui-sans-serif, system-ui, Segoe UI, Roboto, Helvetica, Arial, 'Apple Color Emoji', 'Segoe UI Emoji'; }

.container { max-width: 980px; margin: 0 auto; padding: 24px; }
.container.win { animation: pulse-win 600ms ease-out; }
.container.draw { animation: pulse-draw 600ms ease-out; }
.container.lose { animation: pulse-lose 600ms ease-out; }

.header { display: flex; align-items: center; justify-content: space-between; gap: 16px; margin-bottom: 16px; }
.header h1 { margin: 0; font-size: 28px; letter-spacing: .5px; }
.header .user { display: flex; gap: 12px; align-items: center; }
.header input { background: #0d1426; border: 1px solid #233357; color: var(--text); padding: 8px 10px; border-radius: 8px; min-width: 240px; }
.header .secondary { background: #0f2145; border: 1px solid #24427c; color: var(--text); padding: 8px 12px; border-radius: 8px; cursor: pointer; }
.header .secondary:disabled { opacity: .6; cursor: not-allowed; }

.card { background: var(--card); border: 1px solid #1d2a4b; border-radius: 14px; padding: 16px; }

.scoreboard { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-bottom: 16px; }
.score { background: #0d1426; border: 1px solid #233357; border-radius: 12px; padding: 12px; text-align: center; }
.score span { display: block; color: var(--muted); font-size: 12px; }
.score strong { font-size: 24px; }

.board { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; margin-bottom: 16px; }
.board .ai .move-lg { display:flex; align-items:center; justify-content:center; height: 110px; }
.board .ai .hidden { color: var(--muted); font-style: italic; }
.meta { display:flex; gap: 12px; flex-wrap: wrap; font-size: 12px; color: var(--muted); }
.meta code { color: var(--text); background: #0f2145; padding: 2px 6px; border-radius: 6px; }

.bars { display: flex; flex-direction: column; gap: 10px; }
.bar { display:grid; grid-template-columns: 140px 1fr 60px; gap: 10px; align-items:center; }
.bar-label { display:flex; align-items:center; gap: 8px; color: var(--muted); }
.bar-track { background: #0d1426; border: 1px solid #233357; height: 12px; border-radius: 999px; overflow: hidden; }
.bar-fill { background: linear-gradient(90deg, #24427c, var(--accent)); height: 100%; }
.bar-val { text-align: right; }

.actions { margin-bottom: 16px; }
.buttons { display:flex; gap: 12px; flex-wrap: wrap; }
.button, .action { background: #0f2145; border: 1px solid #24427c; color: var(--text); padding: 10px 14px; border-radius: 12px; cursor: pointer; display:flex; align-items:center; gap: 8px; }
.action:disabled { opacity:.6; cursor: not-allowed; }
.hint { color: var(--muted); margin-top: 8px; font-size: 12px; }

.history ul { list-style: none; padding: 0; margin: 0; display:flex; flex-direction: column; gap: 8px; }
.history .row { display:grid; grid-template-columns: 1fr 1fr 120px; gap: 8px; align-items:center; background: #0d1426; border: 1px solid #233357; border-radius: 10px; padding: 10px; }
.history .row .you, .history .row .ai { display:flex; gap: 8px; align-items:center; }
.history .row.win .res { color: var(--win); }
.history .row.draw .res { color: var(--draw); }
.history .row.lose .res { color: var(--lose); }

.twoplayer { margin-top: 24px; }
.twoplayer .msgs { margin-top: 12px; display:flex; flex-direction:column; gap: 6px; max-height: 200px; overflow: auto; }

/* Responsive */
@media (max-width: 840px) {
  .header { flex-direction: column; align-items: stretch; }
  .header .user { flex-wrap: wrap; }
  .scoreboard { grid-template-columns: 1fr; }
  .board { grid-template-columns: 1fr; }
  .history .row { grid-template-columns: 1fr; }
}

/* Toasts */
.toaster { position: fixed; right: 20px; bottom: 20px; display:flex; flex-direction: column; gap: 8px; z-index: 50; }
.toast { background: #0f2145; border: 1px solid #24427c; color: var(--text); padding: 10px 12px; border-radius: 10px; box-shadow: 0 6px 20px rgba(0,0,0,.25); animation: toast-in 200ms ease-out; }
.toast.win { border-color: #166534; }
.toast.draw { border-color: #4b5563; }
.toast.lose { border-color: #7f1d1d; }

@keyframes toast-in { from { transform: translateY(8px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }

/* Pulse animations */
@keyframes pulse-win { 0% { box-shadow: 0 0 0 0 rgba(22,163,74,.5) } 100% { box-shadow: 0 0 0 24px rgba(22,163,74,0) } }
@keyframes pulse-draw { 0% { box-shadow: 0 0 0 0 rgba(107,114,128,.4) } 100% { box-shadow: 0 0 0 24px rgba(107,114,128,0) } }
@keyframes pulse-lose { 0% { box-shadow: 0 0 0 0 rgba(239,68,68,.5) } 100% { box-shadow: 0 0 0 24px rgba(239,68,68,0) } }
